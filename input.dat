import os
import glob
import spinflip
import numpy as np
from spinflip import sf_cas

# setting up molecule
n2 = psi4.core.Molecule.create_molecule_from_string("""
0 7
N 0 0 0
N 0 0 2.5
symmetry c1
""")
o2 = psi4.core.Molecule.create_molecule_from_string("""
0 3
O
O 1 1.2
symmetry c1
""")
# set target charge and multiplicity
charge = 0
multiplicity = 3

# running the spin-flip calculation
opts = {'basis': 'cc-pvdz', 'diis_start': 4, 'e_convergence': 1e-10, 'num_roots': 4}
e, scf_wfn = sf_cas( charge, multiplicity, n2, conf_space="1x", add_opts=opts, return_rohf_wfn=True, write_rohf_wfn='chk.180.npz')

e, rohf_wfn = sf_cas( charge, multiplicity, n2, conf_space="1x", add_opts=opts, return_rohf_wfn=True, read_rohf_wfn='chk.180.npz' )


